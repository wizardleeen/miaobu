{
  "permissions": {
    "allow": [
      "Bash(chmod:*)",
      "Bash(ls:*)",
      "Bash(alembic revision:*)",
      "Bash(docker-compose down:*)",
      "Bash(docker compose:*)",
      "Bash(docker pull:*)",
      "Bash(tee:*)",
      "Bash(./scripts/setup.sh:*)",
      "Bash(curl:*)",
      "Bash(npm install)",
      "Bash(pnpm install:*)",
      "Bash(unset:*)",
      "Bash(pnpm run build:*)",
      "Bash(docker exec:*)",
      "Bash(grep:*)",
      "Bash(python3:*)",
      "Bash(docker-compose restart:*)",
      "Bash(nc:*)",
      "Bash(ip addr:*)",
      "Bash(ss:*)",
      "Bash(netstat:*)",
      "Bash(docker network inspect:*)",
      "Bash(sudo grep:*)",
      "Bash(env -i HOME=$HOME USER=$USER PATH=$PATH SHELL=/bin/bash bash -c \"docker compose down\")",
      "Bash(env -i HOME=$HOME USER=$USER PATH=$PATH SHELL=/bin/bash bash -c \"docker compose up -d\")",
      "Bash(env -i HOME=$HOME USER=$USER PATH=$PATH bash -c \"docker exec miaobu-worker python -c \"\"from builders.docker_builder import DockerBuilder; b = DockerBuilder\\(999\\); print\\(f''âœ… Docker version: {b.docker_client.version\\(\\)[\\\\\"\"Version\\\\\"\"]}''\\); b.cleanup\\(\\)\"\"\")",
      "Bash(env -i HOME=$HOME USER=$USER PATH=$PATH bash -c \"docker inspect miaobu-worker --format=''''{{range .Config.Env}}{{println .}}{{end}}''''\")",
      "Bash(sudo lsof:*)",
      "Bash(sudo sh -c \"sed -i ''s/172.19.0.1:8118/172.20.0.1:8118/g'' /etc/privoxy/config && systemctl restart privoxy\")",
      "Bash(docker-compose ps:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(sudo ls:*)",
      "Bash(./test_esa_e2e.sh:*)",
      "Bash(./test_esa_full_flow.sh:*)",
      "Bash(./test_real_e2e.sh:*)",
      "Bash(dig:*)",
      "Bash(docker ps:*)",
      "Bash(find:*)",
      "Bash(python -m alembic revision:*)",
      "Bash(npm run build:*)",
      "WebFetch(domain:help.aliyun.com)",
      "Bash(git push:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ3aXphcmRsZWVlbiIsImV4cCI6MTc3MTkxOTUyNH0.RnaxnUa2P8nTWi0qDzPnt1SHB83TvJrLV4_TuYqhLjw\" __NEW_LINE_621f8422e4b4b31c__ echo \"=== Step 1: Analyze repository ===\" curl -s -H \"Authorization: Bearer $TOKEN\" \"http://localhost:8000/api/v1/repositories/wizardleeen/simple-fastapi/analyze?branch=master\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ3aXphcmRsZWVlbiIsImV4cCI6MTc3MTkxOTUyNH0.RnaxnUa2P8nTWi0qDzPnt1SHB83TvJrLV4_TuYqhLjw\" __NEW_LINE_93a695416be742cb__ curl -sv -H \"Authorization: Bearer $TOKEN\" \"http://localhost:8000/api/v1/repositories/wizardleeen/simple-fastapi/analyze?branch=master\")",
      "Bash(export TK=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZXhwIjoxNzcxOTIwMDYwfQ.tG6DJ4szj2yDSnZ8uoLv3Ihgn74oOUAl25XfsJAZuIw\" __NEW_LINE_1420240314b8ad12__ echo \"=== Step 1: Analyze ===\" curl -s -H \"Authorization: Bearer $TK\" \"http://localhost:8000/api/v1/repositories/wizardleeen/simple-fastapi/analyze?branch=master\")",
      "Bash(pip3 install:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZXhwIjoxNzcxOTIyMTk1fQ.Dq4Hvz9kNs7TZm-UofKELjQ7-6DB5l_RUYN6RWIBeig\" curl -s -X POST \"http://localhost:8000/api/v1/projects/10/deploy\" -H \"Authorization: Bearer $TOKEN\" -H \"Content-Type: application/json\")",
      "Bash(tail -2 __NEW_LINE_88fa1934e8d450be__ echo \"=== 4. Latest Deployment Status ===\" docker compose exec postgres psql -U miaobu -d miaobu -t -c \"SELECT ''''Deployment #'''' || id || '''': '''' || status || '''' \\('''' || COALESCE\\(build_time_seconds::text, ''''?''''\\) || ''''s\\)'''' FROM deployments WHERE project_id = 10 ORDER BY id DESC LIMIT 1;\")",
      "Bash(python:*)",
      "Bash(pip3 list:*)",
      "Bash(conda list:*)",
      "WebSearch",
      "Bash(docker cp:*)",
      "Bash(git -C /home/leen/workspace/miaobu status)",
      "Bash(git -C /home/leen/workspace/miaobu diff)",
      "Bash(git -C /home/leen/workspace/miaobu log --oneline -10)",
      "Bash(git -C /home/leen/workspace/miaobu diff --stat)",
      "Bash(git -C /home/leen/workspace/miaobu add .claude/settings.local.json backend/app/api/v1/domains_esa.py backend/app/api/v1/projects.py backend/app/api/v1/projects_deploy.py backend/app/api/v1/repositories.py backend/app/api/v1/webhooks.py backend/app/config.py backend/app/main.py backend/app/models/__init__.py backend/app/schemas/__init__.py backend/app/services/build_detector.py backend/app/services/esa.py backend/app/services/github.py backend/requirements.txt frontend/src/components/DeploymentCard.tsx frontend/src/pages/ImportRepositoryPage.tsx frontend/src/pages/ProjectDetailPage.tsx frontend/src/pages/ProjectSettingsPage.tsx frontend/src/services/api.ts worker/celery_app.py worker/requirements.txt worker/tasks/__init__.py worker/tasks/build.py worker/tasks/deploy.py edge-routine.js scripts/deploy-edge-routine.py backend/alembic/versions/20260217_0000_b8e4f5a1c2d3_add_python_deployment_support.py backend/app/api/v1/env_vars.py backend/app/services/encryption.py backend/app/services/fc.py frontend/src/components/EnvironmentVariables.tsx worker/tasks/build_python.py)",
      "Bash(git -C:*)",
      "Bash(git checkout:*)",
      "Bash(wc:*)",
      "Bash(npm install:*)",
      "Bash(npm config set:*)",
      "Bash(npm logout)",
      "Bash(npm config:*)",
      "Bash(git status:*)",
      "Bash(psql:*)",
      "Bash(sudo -u postgres psql -c \"SELECT version\\(\\);\")",
      "Bash(pg_isready:*)",
      "Bash(PGPASSWORD=miaobu_password psql:*)",
      "Bash(PGPASSWORD=85263670 psql:*)",
      "Bash(sudo tee:*)",
      "Bash(redis-cli:*)",
      "Bash(env:*)",
      "Bash(HTTPS_PROXY= curl -s --max-time 30 \"https://miaobu-miaobu-ivbxmpodby.cn-qingdao.fcapp.run/\")",
      "Bash(HTTPS_PROXY= curl:*)",
      "Bash(HTTPS_PROXY= gh secret set:*)",
      "Bash(export HTTPS_PROXY=\"\")",
      "Bash(gh secret set:*)",
      "Bash(gh workflow run:*)",
      "Bash(gh run list:*)",
      "Bash(gh run watch:*)",
      "Bash(gh run view:*)",
      "Bash(HTTPS_PROXY= gh secret list:*)",
      "Bash(HTTPS_PROXY= git push:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZXhwIjoxNzcxNDAyMTIxfQ.mMv4O3IdYE-TbQfo6WPCb-erZoPMYVH5-w6m1R4vEaA\":*)",
      "Bash(zip:*)",
      "Bash(HTTPS_PROXY= gh run list:*)",
      "Bash(HTTPS_PROXY= gh run view:*)",
      "Bash(source:*)",
      "Bash(PGPASSWORD=$POSTGRES_PASSWORD psql:*)",
      "Bash(PGPASSWORD='2RsnJ9Ov-7HMdWmZnNBiRen67diJrF7d' psql:*)",
      "Bash(HTTPS_PROXY= gh run rerun:*)",
      "Bash(HTTPS_PROXY= gh run watch:*)",
      "Bash(HTTPS_PROXY= git:*)",
      "Bash(npx tsc:*)",
      "WebFetch(domain:www.alibabacloud.com)",
      "WebFetch(domain:developer.aliyun.com)",
      "WebFetch(domain:api.alibabacloud.com)",
      "Bash(tar:*)",
      "Bash(gh api:*)",
      "Bash(pip install:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZXhwIjoxNzcxNTExMTk1fQ.mZtCN3wGywdw3ceZTnmuCPJ08wwX9cm4ML5SYGKMV10\" curl -s \"https://miaobu-api.metavm.tech/api/v1/projects/stats/dashboard\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(systemctl:*)",
      "Bash(crontab:*)",
      "Bash(HTTPS_PROXY= gh api repos/wizardleeen/miaobu/hooks --jq '.[] | {id, active, events, config: .config.url}')",
      "Bash(HTTPS_PROXY= gh api:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZXhwIjoxNzcyMDQxNTA5fQ.MWqCjI_3otJygckQuRGwnT-9UvXuXIAMGOVj4RXz72s\")",
      "Bash(__NEW_LINE_a718af8ae75c8a77__ curl -s http://localhost:8000/api/v1/projects/18/deploy -X POST -H \"Authorization: Bearer $TOKEN\" -H \"Content-Type: application/json\")",
      "Bash(__NEW_LINE_a180a3c382947e64__ curl -s http://localhost:8000/api/v1/projects/18/deploy -X POST -H \"Authorization: Bearer $TOKEN\" -H \"Content-Type: application/json\")",
      "Bash(__NEW_LINE_48b30a1b60626719__ curl -s http://localhost:8000/api/v1/projects/18/deploy -X POST -H \"Authorization: Bearer $TOKEN\" -H \"Content-Type: application/json\")",
      "Bash(pip3:*)",
      "Bash(~/.local/bin/virtualenv:*)",
      "Bash(/home/leen/workspace/miaobu/venv/bin/pip install:*)",
      "Bash(/home/leen/workspace/miaobu/venv/bin/python:*)",
      "Bash(sudo -n true:*)",
      "Bash(sudo journalctl:*)",
      "Bash(pnpm approve-builds:*)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(npx astro sync:*)",
      "Bash(pnpm add:*)"
    ]
  }
}
